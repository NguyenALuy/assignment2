<!DOCTYPE html>
<html lang="en">

<body>
  <h1>Active Orders</h1>
  <table class="table">
    <thead>
      <tr>
        <th>Order ID</th>
        <th>Products</th>
        <th>Total Price</th>
        <th>Receiver Address</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% orders.forEach(order => { %>
      <tr>
        <td><%= order.id %></td>
        <td><%= order.products %></td>
        <td><%= order.totalPrice %></td>
        <td><%= order.receiverAddress %></td>
        <td><%= order.status %></td>
        <td>
          <% if (order.status === 'Active') { %>
          <button onclick="updateStatus(<%= order.id %>, 'Delivered')">Delivered</button>
          <button onclick="updateStatus(<%= order.id %>, 'Canceled')">Canceled</button>
          <% } %>
        </td>
      </tr>
      <% }); %>
    </tbody>
  </table>

  <script src="/js/bootstrap.min.js"></script>

  <script>
    function updateStatus(orderId, status) {
    console.log("Updating order", orderId, "status to", status);
    var statusCell = document.getElementById("status-" + orderId);
    statusCell.textContent = status;
    }
  </script>
</body>

</html>
