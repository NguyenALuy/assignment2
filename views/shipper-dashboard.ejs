<!-- 
// RMIT University Vietnam
// Course: COSC2430 Web Programming
// Semester: 2023A
// Assessment: Assignment 2
// Author: Nguyen A Luy, Le Trung Kien, Trinh Xuan Khanh, Cao Le Hoang Minh, Le Khanh Toan
// ID: S3891919, S3979628, S3927152, S3878260, S3932146
 -->
<!-- HEADER -->
<%- include('partials/head') %>
  <%- include('partials/navbar') %>
    <main>
      <h1 class="text-center p-3">All of Orders</h1>
      <table class="table table-striped table-bordered">
        <thead class="text-center">
          <tr>
            <th>Order ID</th>
            <th>Customer Name</th>
            <th>Email</th>
            <th>Distribution Hub</th>
            <th>Address</th>
            <th>Status</th>
            <th>Order Cart</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <% orders.forEach(function(order) { %>
          <tr>
            <td><%= order._id %></td>
            <td><%= order.customerName %></td>
            <td><%= order.email %></td>
            <td><%= order.hub %></td>
            <td><%= order.address %></td>
            <td><%= order.status %></td>
            <td>
              <% order.products.forEach(function(product) { %>
              <div>
                <span><%= product.name %></span>
                <span class="text-muted">(<%= product.price %>)</span>
              </div>
              <% }) %>
            </td>
            <td>
              <a class="btn btn-success btn-sm" href="/shipper-dashboard/<%= order._id %>/update">Update Status</a>
            </td>
          </tr>
          <% }); %>
        </tbody>
      </table>
      
    </main>
    <!-- FOOTER -->
    <%- include("./partials/footer") %>
      <!-- END -->
      <%- include('partials/ending') %>